<button id="back-to-top" class="fixed bottom-8 right-8 z-50 hidden rounded-none bg-primary p-3 text-white shadow-lg transition-all hover:scale-110 active:scale-95" aria-label="Voltar ao topo">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 10l7-7m0 0l7 7m-7-7v18" />
  </svg>
</button>

<script is:inline>
  (function() {
    const btn = document.getElementById("back-to-top");
    if (!btn) return;

    let ticking = false;
    function updateScroll() {
      if (window.scrollY > 300) {
        btn.classList.remove("hidden");
      } else {
        btn.classList.add("hidden");
      }
      ticking = false;
    }

    window.addEventListener("scroll", function() {
      if (!ticking) {
        window.requestAnimationFrame(updateScroll);
        ticking = true;
      }
    }, { passive: true });

    btn.addEventListener("click", function() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  })();
</script>
