---
import Base from "@/layouts/Base.astro";
import { Image } from "astro:assets";
import { getEntry, render } from "astro:content";
import { markdownify } from "@/lib/utils/textConverter";

const about = await getEntry("about", "-index");
const { Content } = await render(about);
const { title, description, meta_title, image } = about.data;
---

<Base title={title} meta_title={meta_title} description={description}>
  <section class="py-20 md:py-32 bg-white min-h-[80vh] flex items-center">
    <div class="max-w-5xl mx-auto px-6 md:px-8">
      <div class="flex flex-col md:flex-row gap-12 md:gap-20 items-start">
        
        {image && (
          <div class="w-full md:w-5/12 shrink-0 relative group">
            <div class="absolute inset-0 bg-primary opacity-0 group-hover:opacity-10 transition-opacity duration-500 rounded-2xl z-10"></div>
            <Image 
              src={image} 
              width={500} height={600} 
              alt={title} 
              class="w-full rounded-2xl shadow-xl grayscale hover:grayscale-0 transition-all duration-700 object-cover aspect-[4/5] border border-gray-100 relative z-0" 
            />
          </div>
        )}

        <div class="w-full md:flex-1">
          <span class="text-primary font-bold tracking-[0.2em] text-xs uppercase mb-4 block">O Arquiteto de Conte√∫do</span>
          <h1 set:html={markdownify(title)} class="font-primary text-4xl md:text-5xl lg:text-6xl font-bold text-dark mb-8 leading-[1.1]" />
          <div class="content text-lg leading-relaxed text-gray-700">
            <Content />
          </div>
        </div>

      </div>
    </div>
  </section>
</Base>
